var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,f,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,c){a!=Array.prototype&&a!=Object.prototype&&(a[f]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,f,c,b){if(f){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var g=a[b];g in c||(c[g]={});c=c[g]}a=a[a.length-1];b=c[a];f=f(b);f!=b&&null!=f&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var g=b.length,e=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var d=0;d<e&&c<g;)if(b[c++]!=a[d++])return!1;return d>=e}},"es6","es3");
app.factory("AirtableService",["$q","$http","DelayHttp",function(a,f,c){return{getData:function(b,g,e){var d=a.defer(),f=[],k=function(d,e){var h=a.defer();c({url:d+(e?"&offset="+e:""),method:"GET"}).then(function(a){(a.data.records||(a.data?[a.data]:[])).forEach(function(a){var d={refId:a.id};g.tables[b].fields.forEach(function(b){switch(!0){case b.startsWith("date"):var e=new Date(Date.parse(a.fields[b]));e.setTime(e.getTime()+6E4*e.getTimezoneOffset());d[b]=e;break;case Array.isArray(a.fields[b]):d[b]=
a.fields[b][0];break;default:d[b]=a.fields[b]?""+a.fields[b]:""}});f.push(d)});a.data.offset?k(d,a.data.offset).then(function(){h.resolve()}):h.resolve()},function(a){h.reject(a.error)});return h.promise};k(g.url+"/"+b+(e?"/"+e:"")+"?api_key="+g.key).then(function(){f.sort(function(a,b){return parseInt(a.id)-parseInt(b.id)});d.resolve(f)},function(a){console.log(a)});return d.promise},createData:function(b,g,e){var d=a.defer();f({url:e.url+"/"+b+"?api_key="+e.key,method:"POST",data:g}).then(function(){d.resolve()},
function(a){console.log("Error: "+a.error)});return d.promise},updateData:function(b,g,e,d){var c=a.defer();f({url:d.url+"/"+b+"/"+g+"?api_key="+d.key,method:"PUT",data:e}).then(function(){c.resolve()},function(a){console.log("Error: "+a.error)});return c.promise},deleteData:function(b,c,e){var d=a.defer();f({url:e.url+"/"+b+"/"+c+"?api_key="+e.key,method:"DELETE"}).then(function(){d.resolve()},function(a){console.log("Error: "+a.error)});return d.promise},sortByLocale:function(a,c){a&&a.sort(function(a,
b){a="object"===typeof a&&c?a[c]:a;b="object"===typeof b&&c?b[c]:b;return a&&b?a.localeCompare(b):0})}}}]);
